!function(t,e){"use strict";t.DynamicControl=t.Control.extend({initialize:function(n,i){var o,r=this;(o=i||{}).params=o.params||{},o.params.type||(o.params.type="dynamic"),o.params.content||(o.params.content=e("<li></li>"),o.params.content.attr("id","customize-control-"+n.replace(/]/g,"").replace(/\[/g,"-")),o.params.content.attr("class","customize-control customize-control-"+o.params.type)),r.propertyElements=[],t.Control.prototype.initialize.call(r,n,o)},_setUpSettingRootLinks:function(){var n,i,o;i=(n=this).container.find("[data-customize-setting-link]"),o={},i.each(function(){var r,a=e(this);if(a.is(":radio")){if(r=a.prop("name"),o[r])return;o[r]=!0,a=i.filter('[name="'+r+'"]')}t(a.data("customizeSettingLink"),function(e){var i=new t.Element(a);n.elements.push(i),i.sync(e),i.set(e())})})},_setUpSettingPropertyLinks:function(){var n,i,o=this;o.setting&&(n=o.container.find("[data-customize-setting-property-link]"),i={},n.each(function(){var r,a,s=e(this),c=s.data("customizeSettingPropertyLink");if(s.is(":radio")){if(r=s.prop("name"),i[r])return;i[r]=!0,s=n.filter('[name="'+r+'"]')}a=new t.Element(s),o.propertyElements.push(a),a.set(o.setting()[c]),a.bind(function(t){var e=o.setting();t!==e[c]&&((e=_.clone(e))[c]=t,o.setting.set(e))}),o.setting.bind(function(t){t[c]!==a.get()&&a.set(t[c])})}))},ready:function(){var e=this;e._setUpSettingRootLinks(),e._setUpSettingPropertyLinks(),t.Control.prototype.ready.call(e),e.deferred.embedded.done(function(){})},embed:function(){var e=this,n=e.section();n&&t.section(n,function(n){n.expanded()||t.settings.autofocus.control===e.id?e.actuallyEmbed():n.expanded.bind(function(t){t&&e.actuallyEmbed()})})},actuallyEmbed:function(){var t=this;"resolved"!==t.deferred.embedded.state()&&(t.renderContent(),t.deferred.embedded.resolve())},focus:function(e){var n=this;n.actuallyEmbed(),t.Control.prototype.focus.call(n,e)}}),t.controlConstructor.dynamic=t.DynamicControl}(wp.customize,jQuery);