!function(e,t){"use strict";e.MediaControl.prototype.ready=function(){function n(n){var a=t.Deferred(),r=n;o.extended(e.UploadControl)?a.resolve():(r=parseInt(r,10),_.isNaN(r)||r<=0?(delete o.params.attachment,a.resolve()):o.params.attachment&&o.params.attachment.id===r&&a.resolve()),"pending"===a.state()&&wp.media.attachment(r).fetch().done(function(){o.params.attachment=this.attributes,a.resolve(),wp.customize.previewer.send(o.setting.id+"-attachment-data",this.attributes)}),a.done(function(){o.renderContent()})}var o=this;_.bindAll(o,"restoreDefault","removeFile","openFrame","select","pausePlayer"),o.container.on("click keydown",".upload-button",o.openFrame),o.container.on("click keydown",".upload-button",o.pausePlayer),o.container.on("click keydown",".thumbnail-image img",o.openFrame),o.container.on("click keydown",".default-button",o.restoreDefault),o.container.on("click keydown",".remove-button",o.pausePlayer),o.container.on("click keydown",".remove-button",o.removeFile),o.container.on("click keydown",".remove-button",o.cleanupPlayer),e.section(o.section()).container.on("expanded",function(){o.player&&o.player.setControlsSize()}).on("collapsed",function(){o.pausePlayer()}),n(o.setting()),o.setting.bind(n)}}(wp.customize,jQuery);